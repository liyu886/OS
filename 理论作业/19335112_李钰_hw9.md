<h4>9.2

|   进程    |  A   |  B   |     C      |  D   |  E   | 平均值 |
| :-------: | :--: | :--: | :--------: | :--: | :--: | :----: |
| 到达时间  |  0   |  1   |     3      |  9   |  12  |        |
| 服务时间  |  3   |  5   |     2      |  5   |  5   |        |
|           |      |      |  **FCFS**  |      |      |        |
| 完成时间  |  3   |  8   |     10     |  15  |  20  |        |
| 驻留时间  |  3   |  7   |     7      |  6   |  8   |  6.2   |
| $T_r/T_s$ |  1   | 1.4  |    3.5     | 1.2  | 1.6  |  1.74  |
|           |      |      | **RR** q=1 |      |      |        |
| 完成时间  |  6   |  11  |     8      |  17  |  20  |        |
| 驻留时间  |  6   |  10  |     5      |  9   |  8   |  7.6   |
| $T_r/T_s$ |  2   |  2   |    2.5     | 1.8  | 1.6  |  1.98  |
|           |      |      | **RR** q=4 |      |      |        |
| 完成时间  |  3   |  10  |     9      |  19  |  20  |        |
| 驻留时间  |  3   |  9   |     6      |  10  |  8   |  7.2   |
| $T_r/T_s$ |  1   | 1.8  |     3      |  2   | 1.6  |  1.88  |
|           |      |      |  **SPN**   |      |      |        |
| 完成时间  |  3   |  10  |     5      |  15  |  20  |        |
| 驻留时间  |  3   |  9   |     2      |  6   |  8   |  5.6   |
| $T_r/T_s$ |  1   | 1.8  |     1      | 1.2  | 1.6  |  1.32  |
|           |      |      |  **SRT**   |      |      |        |
| 完成时间  |  3   |  10  |     5      |  15  |  20  |        |
| 驻留时间  |  3   |  9   |     2      |  6   |  8   |  5.6   |
| $T_r/T_s$ |  1   | 1.8  |     1      | 1.2  | 1.6  |  1.32  |
|           |      |      |  **HRRN**  |      |      |        |
| 完成时间  |  3   |  8   |     10     |  15  |  20  |        |
| 驻留时间  |  3   |  7   |     7      |  6   |  8   |  6.2   |
| $T_r/T_s$ |  1   | 1.4  |    3.5     | 1.2  | 1.6  |  1.74  |


|           |      |      |     FB q=1     |      |      |      |
| :-------: | :--: | :--: | :------------: | :--: | :--: | :--: |
| 完成时间  |  7   |  11  |       6        |  18  |  20  |      |
| 驻留时间  |  7   |  10  |       3        |  9   |  8   | 7.4  |
| $T_r/T_s$ | 2.33 |  2   |      1.5       | 1.8  | 1.6  | 1.85 |
|           |      |      | **FB** $q=2^i$ |      |      |      |
| 完成时间  |  4   |  10  |       8        |  18  |  20  |      |
| 驻留时间  |  4   |  9   |       5        |  9   |  8   |  7   |
| $T_r/T_s$ | 1.33 | 1.8  |      2.5       | 1.8  | 1.6  | 1.81 |

![image-20210623155355746](C:\Users\16435\AppData\Roaming\Typora\typora-user-images\image-20210623155355746.png)

![image-20210623160157698](C:\Users\16435\AppData\Roaming\Typora\typora-user-images\image-20210623160157698.png)

<h4>9.8
证明：

设：等待执行的作业编号从1到N

​		作业：		1		2		……		i		……		n

到达时间：		$t_1$		$t_2$		……		$t_i$	……		$t_n$

服务时间：		$r_1$		$r_2$		……		$r_i$	……		$r_n$

​	我们假设作业i在完成之前可以达到最高的响应时间比。当作业1到n都执行结束，总时间为
$$
T_i\ =\ t+r_1+r_2+…+r_i
$$
作业 i 的响应比为$R_i(T_i)+\frac{T_i-t_i}{r_i}$，执行 i 的原因是它的相应比是以下作业在$T_i$时是最小的：
$$
R_i(T_i)=min[R_1(T_i),R_2(T_i),…，R_i(T_i)]
$$
考虑不同序列中同样的n各作业的排序结果

​		作业：		a		b		……		j		……		z

到达时间：		$t_a$		$t_b$		……		$t_j$	……		$t_z$

服务时间：		$r_a$		$r_b$		……		$r_j$	……		$r_z$

在新的序列中，我们选择最小的后继作业，从a到j，包括从1到i的后继。当作业a到j被执行结束，总时间为
$$
T_j\ =\ t+r_a+r_b+…+r_j
$$
作业j的响应比是$R_j(T_j)+\frac{T_j-t_j}{r_j}$，由于作业1到j是作业a到j的一个子集，那么总的服务时间$T_i-t$一定小于等于总的服务时间$T_j-t$。又响应比随着时间增加而增加，$T_i<=T_j$，意味着$R_j(T_j)>=R_j(T_i)$.作业j是作业1到i的其中之一，作业j在$T_i$有最小响应比。故有
$$
R_j(T_j)≥R_j(T_j)≥R_i(T_i)
$$
调度算法改变之后，会有作业j到达响应比$R_j(T_j)$，它会大于等于最高响应比$R_i(T_i)$

<h4>9.16


a. 


|                 |  A   |  B   |  C   |  D   |  E   |
| :-------------: | :--: | :--: | :--: | :--: | :--: |
| 周转时间（min） |  45  |  35  |  13  |  26  |  42  |

平均周转时间 $(45+35+13+26+42)/5=32.2min$

b. 

|               |  A   |  B   |  C   |  D   |  E   |
| :-----------: | :--: | :--: | :--: | :--: | :--: |
| 周转时间(min) |  36  |  9   |  39  |  45  |  21  |

平均周转时间$(36+9+39+45+21)/5=30min$

c.

|               |  A   |  B   |  C   |  D   |  E   |
| :-----------: | :--: | :--: | :--: | :--: | :--: |
| 周转时间(min) |  15  |  24  |  27  |  33  |  45  |

平均周转时间$(15+24+27+33+45)/5=28.8min$

d.

|               |  A   |  B   |  C   |  D   |  E   |
| :-----------: | :--: | :--: | :--: | :--: | :--: |
| 周转时间(min) |  45  |  18  |  3   |  9   |  30  |

平均周转时间$(45+18+3+9+30)/5=21min$



<h4>10.2


|                              |              |  0   |  10  |  20  |  30  |  40  |  50  |  60  |   70    |    80     |  90  | 100  | 110  |
| :--------------------------: | :----------: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :-----: | :-------: | :--: | :--: | :--: |
|                              |   到达时间   |      |  A   |  B   |      |  C   |  D   |  E   |         |           |      |      |      |
|                              | 启动最后期限 |      |      |      |  B   |      |      |  C   |    E    |     D     |      |  A   |      |
|         最早最后期限         |   到达时间   |      |  A   |  B   |      |  C   |  D   |  E   |         |           |      |      |      |
|                              |     服务     |      |  A   |  A   |  B   |  B   |  C   |  C   |    E    |     E     |      |      |      |
|                              | 启动最后期限 |      |      |      |  B   |      |      |  C   |    E    | D（错过） |      |  A   |      |
| 有自愿空闲时间的最早最后期限 |   到达时间   |      |  A   |  B   |      |  C   |  D   |  E   |         |           |      |      |      |
|                              |     服务     |      |      |  B   |  B   |  C   |  C   |  E   |    E    |     D     |  D   |  A   |  A   |
|                              | 启动最后期限 |      |      |      |  B   |      |      |  C   |    E    |     D     |      |  A   |      |
|          先来先服务          |   到达时间   |      |  A   |  B   |      |  C   |  D   |  E   |         |           |      |      |      |
|                              |     服务     |      |  A   |  A   |  B   |  B   |  C   |  C   |    D    |     D     |      |      |      |
|                              | 启动最后期限 |      |      |      |  B   |      |      |  C   | E(错过) |     D     |      |  A   |      |




<h4>10.7
a. 

$U_1 = C_1\ /\ T_1\ =\ 20\ /\ 100\ =\ 0.2$ 

$U_2 = C_2\ /\ T_2\ =\ 30\ /\ 145\ ≈\ 0.21$

总利用率为$U_1 +U_2\ =\ 0.41\ <\  2*(2^{1/2}-1)≈0.826$，所以这些任务可以成功调度

b. 

$U_3 = C_3\ /\ T_3\ =\ 68\ /\ 150\ ≈\ 0.45$

总利用率为$U_1 +U_2+U_3\ =\ 0.86 \ >\ 3*(2^{1/3}-1)\ ≈\ 0.779$，所以不满足（10.2）式了

c.

P1、P2、P3三个进程执行完第一次之后时间最短为$20+30+68=118$，但是P1过100之后已经经历了一个周期，所以P3直到$118+20=138$才可以完成他第一次执行，138在P3的最后期限之内，所以三个任务可以实现。

